<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Language reference</title>
		<link rel="icon" href="../_static/img/favicon.png">

		<!--Let browser know website is optimized for mobile-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

		<!-- Google font -->
		<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

		<!-- FreeFem++ theme specific -->
		<link rel="stylesheet" type="text/css" href="../_static/css/freefemtheme.css" />

		<!-- css -->
		<link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

		<!-- js -->
		<script src="../_static/nav.json"></script>
		<script src="../_static/js/nav.js"></script>
		<script src="../_static/js/common.js"></script>

		<!-- MathJax -->
		<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>

		<!-- Font Awesome -->
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
	</head>
	<body>
		<header>
			<div class="header-logo">
    <div>
        <a href="../introduction/introduction.html">
            <img alt="logo" title="FreeFem++ documentation" src="../_static/img/Logo.png" />
        </a>
    </div>
</div>
<div class="header-title">
    <div>
        <a href="../introduction/introduction.html">
            <h2>FreeFem++ documentation</h2>
        </a>
    </div>
</div>
<div class="header-github">
    <a href="https://github.com/FreeFem/FreeFem-sources">
        <div class="header-github-img">
            <img alt="GitHub" title="FreeFem++ on GitHub" src="../_static/img/GitHub-Mark-120px-plus.png" />
        </div>
        <div class="header-github-title">
            <div class="header-github-title-text">
                FreeFem++ on GitHub
            </div>
            <div class="header-github-title-stars">
                <span id="headerGithubStars"></span> stars - <span id="headerGithubForks"></span> forks
            </div>
        </div>
    </a>
</div>
<script src="../_static/js/github.js"></script>
		</header>
		
		<nav>
			<script>nav("../")</script>
			<div class="search">
				<script async src="../_static/js/lunr.js"></script>
<script async src="../_static/lunr_index.js"></script>

<script src="../_static/js/search.js"></script>

<div class="search">
    <input type="search" id="searchInput" placeholder="Search..." oninput="search(this.value);" />
    <div class="searchResults">
        <div id="resultCount">
        </div>
        <div id="searchResults">
        </div>
    </div>
</div>
			</div>
		</nav>
		

		
		<div class="container">
			<div class="toc" id="toc">
				<div>
					<ul>
<li><a class="reference internal" href="#">Language reference</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
</ul>
</li>
</ul>

				</div>
			</div>
			<div class="content">
				<div>
					
    <div class="section" id="language-reference">
<h1>Language reference<a class="headerlink" href="#language-reference" title="Permalink to this headline">¶</a></h1>
<p>Welcome to the <strong>FreeFem++</strong> language reference documentation.</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In essence <strong>FreeFem++</strong> is a compiler: its language is typed, polymorphic, with exception and reentrant.
Every variable must be declared of a certain type, in a declarative statement; each statement are separated from the next by a semicolon <code class="docutils literal highlight highlight-default"><span></span><span class="p">;</span></code>.</p>
<p>The language allows the manipulation of basic types integers (<code class="code freefem docutils literal highlight highlight-freefem"><span></span><span class="kt">int</span></code>), reals (<code class="code freefem docutils literal highlight highlight-freefem"><span></span><span class="kt">real</span></code>), strings (<code class="code freefem docutils literal highlight highlight-freefem"><span></span><span class="kt">string</span></code>), arrays (example: <code class="code freefem docutils literal highlight highlight-freefem"><span></span><span class="kt">real</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span></code>), bi-dimensional (2D) finite element meshes (<code class="code freefem docutils literal highlight highlight-freefem"><span></span><span class="kt">mesh</span></code>), 2D finite element spaces (<code class="code freefem docutils literal highlight highlight-freefem"><span></span><span class="kt">fespace</span></code>), analytical functions (<code class="code freefem docutils literal highlight highlight-freefem"><span></span><span class="kt">func</span></code>), arrays of finite element functions (<code class="code freefem docutils literal highlight highlight-freefem"><span></span><span class="kt">func</span><span class="p">[</span><span class="n">basic_type</span><span class="p">]</span></code>), linear and bilinear operators, sparse matrices, vectors , etc.
For example:</p>
<div class="highlight-freefem notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="kr">n</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span> <span class="c1">//i, n are integer</span>
<span class="kt">real</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span> <span class="n">xx</span><span class="p">(</span><span class="kr">n</span><span class="p">),</span> <span class="n">yy</span><span class="p">(</span><span class="kr">n</span><span class="p">);</span> <span class="c1">//two array of size n</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">20</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span> <span class="c1">//which can be used in statements such as</span>
    <span class="n">xx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nf">cos</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="kr">pi</span><span class="o">/</span><span class="mi">10</span><span class="p">);</span>
    <span class="n">yy</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nf">sin</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="kr">pi</span><span class="o">/</span><span class="mi">10</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The life of a variable is the current block <code class="docutils literal highlight highlight-default"><span></span><span class="p">{</span><span class="o">...</span><span class="p">}</span></code>, except the <code class="code freefem docutils literal highlight highlight-freefem"><span></span><span class="kt">fespace</span></code> variable, and the variables local to a block are destroyed at the end of the block as follows.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>Example</p>
<div class="last highlight-freefem notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">real</span> <span class="n">r</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">;</span>
<span class="kt">mesh</span> <span class="n">Th</span> <span class="o">=</span> <span class="nf">square</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span> <span class="c1">//unit square mesh</span>
<span class="kt">fespace</span> <span class="nf">Vh</span><span class="p">(</span><span class="n">Th</span><span class="p">,</span> <span class="nc">P1</span><span class="p">);</span> <span class="c1">//P1 Lagrange finite element space</span>
<span class="n">Vh</span> <span class="n">u</span> <span class="o">=</span> <span class="kr">x</span> <span class="o">+</span> <span class="nf">exp</span><span class="p">(</span><span class="kr">y</span><span class="p">);</span>
<span class="kt">func</span> <span class="n">f</span> <span class="o">=</span> <span class="kr">z</span><span class="o">*</span><span class="kr">x</span> <span class="o">+</span> <span class="n">r</span><span class="o">*</span><span class="nf">log</span><span class="p">(</span><span class="kr">y</span><span class="p">);</span>
<span class="nf">plot</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="kp">wait</span><span class="o">=</span><span class="kr">true</span><span class="p">);</span>
<span class="p">{</span> <span class="c1">// new block</span>
    <span class="kt">real</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">//not the same r</span>
    <span class="kt">fespace</span> <span class="nf">Vh</span><span class="p">(</span><span class="n">Th</span><span class="p">,</span> <span class="nc">P1</span><span class="p">);</span> <span class="c1">//error because Vh is a global name</span>
<span class="p">}</span><span class="c1">// end of block</span>
<span class="c1">//here r back to 0.01</span>
</pre></div>
</td></tr></table></div>
</div>
<p>The type declarations are mandatory in <strong>FreeFem++</strong>; in the end this feature is an asset because it is easy to make bugs in a language with many implicit types.</p>
<p>The variable name is just an alphanumeric string, the underscore character <code class="docutils literal highlight highlight-default"><span></span><span class="n">_</span></code> is not allowed, because it will be used as an operator in the future.</p>
</div>
</div>


				</div>
			</div>
		</div>
		
		<footer>
			<script>
    let date = new Date()
    let currentYear = date.getFullYear()
</script>
<div class="footer-text">
    <a href="https://freefem.org/">FreeFem++</a> 1987-<script>document.write(currentYear)</script>
</div>
<div class="footer-img">
    <p>
        Made with <i class="fas fa-heart"></i> on
    </p>
    <span class="separator"></span>
    <a href="https://github.com/FreeFem">
        <img alt="Github" title="Github" src="../_static/img/GitHub_Logo_White.png" />
    </a>
</div>
		</footer>
		

		<script src="../_static/js/toc.js"></script>
	</body>
</html>